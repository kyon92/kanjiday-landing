! function() {
    "use strict";
    angular.module("kanjidayApp", [])
}(),
function() {
    "use strict";

    function e(e) {
        var a = {};
        a.loading = !1;
        return a.get = function() {
            return a.loading = !0, a.promise = e({
                url: "/kanji/core_vocab.json",
                method: "GET"
            }), a.promise.then(function(e) {
                a.loading = !1, a.data = e.data
            }), a.promise
        }, a
    }
    angular.module("kanjidayApp").factory("kanjiFactory", e), e.$inject = ["$http"]
}(),
function() {
    "use strict";

    function e(e, a) {
    	function applyDisplay() {
            var kunyomiChanged = localStorage.kunyomiChanged,
                meaningChanged = localStorage.meaningChanged;
            switch (kunyomiChanged) {
                case "changed":
                    t.kunyomiDisplay = localStorage.kunyomiDisplay;
                    break;
                default:
                    localStorage.kunyomiDisplay = "block", t.kunyomiDisplay = "block"
            }
            switch (meaningChanged) {
                case "changed":
                    t.meaningDisplay = localStorage.meaningDisplay;
                    break;
                default:
                    localStorage.meaningDisplay = "block", t.meaningDisplay = "block"
            }
        }

        function n() {
            "changed" == localStorage.colorChanged ? (t.bodyBackground = localStorage.savedHex, t.wrapperBackground = localStorage.savedFrameColor, t.border = "6px solid " + localStorage.savedFrameColor) : (t.bodyBackground = "lightpink", t.wrapperBackground = "white", t.border = "6px solid white")
        }
        var t = this;
        t.kanjiFactory = e;
        var o = 0;
        e.get().then(function(e) {
            t.kanjiList = e.data.kanji, o = e.data.kanji.length;
            var a = Math.floor(Math.random() * o);
            t.kanji = e.data.kanji[a];
            var n = e.data.kanji[a].character.length;
            t.charLength = {
                isOneChar: 1 == n,
                isTwoChar: 2 == n,
                isThreeChar: 3 == n,
                isFourChar: 4 == n,
                isFivePlusChar: 5 <= n
            }
        }), n(), applyDisplay(), t.updateColors = function() {
            n(), a.$apply()
        }, t.updateDisplay = function() { 
        	applyDisplay()
        }
    }
    angular.module("kanjidayApp").controller("mainController", e), e.$inject = ["kanjiFactory", "$scope"]
}(),
function() {
    "use strict";

    function e() {
        return {
            scope: !0,
            require: "^settingsMenu",
            templateUrl: "/kanji/app/directives/colorpick.view.html",
            link: function(e, a, n, t) {
                function o(e) {
                    var a = i(e),
                        n = "rgb(" + r(e.r) + "," + r(e.g) + "," + r(e.b) + ")";
                    a > .82 ? (c = !1, localStorage.savedFrameColor = n) : (c = !0, localStorage.savedFrameColor = "rgba(255,255,255,0.95)")
                }

                function i(e) {
                    return (.2126 * e.r + .7152 * e.g + .0722 * e.b) / 255
                }

                function r(e) {
                    return Math.round(60 * e / 100)
                }
                var c;
                $(".picker").colpick({
                    flat: !0,
                    layout: "hex",
                    submit: 0,
                    onChange: function(e, a, n, i, r) {
                        localStorage.savedHex = "#" + a, localStorage.colorChanged = "changed", o(n), t.updateColors()
                    }
                })
            }
        }
    }
    angular.module("kanjidayApp").directive("colorPick", e), e.$inject = []
}(),
function() {
    "use strict";

    function e() {
        return {
            scope: !0,
            templateUrl: "/kanji/app/directives/footerInfo.view.html",
            link: function(e, a, n) {
                var t = !1;
                e.toggleFooter = function() {
                    t ? (t = !1, $(".mainView").css("margin-bottom", "0"), $(".info-icon").css("margin-bottom", "0"), $("footer").removeClass("show-footer"), $("footer").empty()) : (t = !0, $(".mainView").css("margin-bottom", "9rem"), $(".info-icon").css("margin-bottom", "9rem"), $("footer").addClass("show-footer"), $("footer").append('<h2>Kanjiday</h2><div><p>Kanjiday replaces your new tab with a a new Kanji card. One new card every day. The selection is of regular/daily life words.</p><p>Thanks for using Kanjiday!</p> <a href="mailto:contact@kanjiday.com">contact@kanjiday.com</a></div><a class="twitter-link" href="https://www.twitter.com/kanjiday_app" target="_blank"><img src="img/twitter.png"></a>'))
                }
            }
        }
    }
    angular.module("kanjidayApp").directive("footerInfo", e), e.$inject = []
}(),
function() {
    "use strict";

    function e() {
        return {
            scope: {
                list: "=",
                charLength: "="
            },
            templateUrl: "/kanji/app/directives/nextKanji.view.html",
            link: function(e, a, n) {
                e.setNewKanji = function(a) {
                    var n = Math.floor(Math.random() * a.length),
                        t = a[n].character.length;
                    e.charLength.isOneChar = 1 == t, e.charLength.isTwoChar = 2 == t, e.charLength.isThreeChar = 3 == t, e.charLength.isFourChar = 4 == t, e.charLength.isFivePlusChar = 5 <= t, $("#character").fadeOut(0, function() {
                        $("#character").text(a[n].character).fadeIn(300)
                    }), "block" == localStorage.kunyomiDisplay && $("#kunyomi").fadeOut(0, function() {
                        $("#kunyomi").text(a[n].kunyomi).fadeIn(300)
                    }), "block" == localStorage.meaningDisplay && $("#meaning").fadeOut(0, function() {
                        $("#meaning").text(a[n].meanings[0]).fadeIn(300)
                    }), $("#sentence").fadeOut(0, function() {
                        $("#sentence").text(a[n].sentencekanji).fadeIn(300)
                    }), $("#sentence-kana").fadeOut(0, function() {
                        $("#sentence-kana").text(a[n].sentencekana).fadeIn(300)
                    })
                }
            }
        }
    }
    angular.module("kanjidayApp").directive("nextKanji", e), e.$inject = []
}(),
function() {
    "use strict";

    function e() {
        return {
            scope: {
                textColor: "=",
                buttonColor: "="
            },
            templateUrl: "/kanji/app/directives/notification.view.html",
            link: function(e, a, n) {
                localStorage.toggleNewsSeen ? e.toggleNewsSeen = localStorage.toggleNewsSeen : (localStorage.toggleNewsSeen = "0", e.toggleNewsSeen = localStorage.toggleNewsSeen), e.toggleNewsUneen = function() {
                    localStorage.toggleNewsSeen = "1", e.toggleNewsSeen = localStorage.toggleNewsSeen
                }
            }
        }
    }
    angular.module("kanjidayApp").directive("notification", e), e.$inject = []
}(),
function() {
    "use strict";

    function e() {
        return {
            scope: {
                textColor: "=",
                buttonColor: "="
            },
            templateUrl: "/kanji/app/directives/onboarding.view.html",
            link: function(e, a, n) {
                localStorage.nextKanjiSeen ? e.nextKanjiSeen = localStorage.nextKanjiSeen : (localStorage.nextKanjiSeen = "0", e.nextKanjiSeen = localStorage.nextKanjiSeen), e.nextKanjiUnsee = function() {
                    localStorage.nextKanjiSeen = "1", e.nextKanjiSeen = localStorage.nextKanjiSeen
                }
            }
        }
    }
    angular.module("kanjidayApp").directive("onboarding", e), e.$inject = []
}(),
function() {
    "use strict";

    function e(e) {
        return {
            link: function(a, n, t) {
                function o() {
                    $("#picker-wrapper").removeClass("show-picker"), $(".picker").css("display", "none"), r = !1
                }
                var i = !1;
                a.kanjiFactory = e, a.toggleSettingsMenu = function() {
                    i ? ($("#settings-menu").css("display", "none"), i = !1, o(), $("#list-wrapper").removeClass("show-list")) : ($("#kanji-info").css("display", "block"), $("#settings-menu").css("display", "block"), i = !0)
                };
                var r = !1;
                a.toggleColorPicker = function() {
                    r ? o() : ($(".picker").css("display", "flex"), $("#picker-wrapper").addClass("show-picker"), $("#list-wrapper").removeClass("show-list"), $("#kanji-info").css("display", "none"), r = !0)
                };
                var c = !1;
                a.toggleList = function() {
                    c ? ($("#list-wrapper").removeClass("show-list"), c = !1) : ($("#list-wrapper").addClass("show-list"), $("#kanji-info").css("display", "none"), o(), c = !0)
                }, a.showKanjiInfo = function() {
                    $("#kanji-info").css("display", "block"), o()
                }
            },
            templateUrl: "/kanji/app/directives/settingsMenu.view.html",
            scope: {
                updateColors: "=",
                updateDisplay: "="
            },
            controller: function(e) {
                var a = this;
                a.updateColors = e.updateColors, a.updateDisplay = e.updateDisplay
            }
        }
    }
    angular.module("kanjidayApp").directive("settingsMenu", e), e.$inject = ["kanjiFactory"]
}(),
function() {
    "use strict";

    function e(e) {
        return {
            link: function(e, a, n, t) {
                "block" == localStorage[e.className + "Display"] && (e.checked = !0), e.toggle = function() {
                    "block" == localStorage[e.className + "Display"] ? (localStorage[e.className + "Changed"] = "changed", localStorage[e.className + "Display"] = "none", e.checked = !1, t.updateDisplay()) : "none" == localStorage[e.className + "Display"] && (localStorage[e.className + "Display"] = "block", e.checked = !0, t.updateDisplay())
                }
            },
            require: "^settingsMenu",
            templateUrl: "/kanji/app/directives/toggleElt.view.html",
            scope: {
                className: "@"
            }
        }
    }
    angular.module("kanjidayApp").directive("toggleElt", e), e.$inject = ["$timeout"]
}();